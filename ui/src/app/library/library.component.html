<form class="library-filter">
  <mat-form-field>
    <span matPrefix><mat-icon>search</mat-icon></span>
    <input matInput placeholder="Filter" #libraryFilter
      (keyup)="filter(libraryFilter.value)">
  </mat-form-field>
</form>

<div *ngIf="publishers?.length > 0">
  <mat-accordion>
    <mat-expansion-panel class="publishers"
      *ngFor="let publisher of publishers"
      [expanded]="currentPublisher === publisher.publisher"
      (opened)="openPublisher(publisher.publisher)">
      <mat-expansion-panel-header>
        <mat-panel-title>
          {{ publisher.publisher }}
        </mat-panel-title>
      </mat-expansion-panel-header>

      <mat-accordion *ngIf="publisher.series?.length > 0">
        <mat-expansion-panel
          *ngFor="let series of publisher.series"
          [expanded]="currentSeries === series.series"
          (opened)="openSeries(series.series)">
          <mat-expansion-panel-header>
            <mat-panel-title>
              {{ series.series }}
            </mat-panel-title>
          </mat-expansion-panel-header>
          <div class="volumes">
            <app-volume *ngFor="let volume of series.volumes"
              (updated)="list()"
              [volume]="volume">
            </app-volume>
          </div>
        </mat-expansion-panel>
      </mat-accordion>
    </mat-expansion-panel>
  </mat-accordion>
</div>
<div *ngIf="publishers?.length == 0" class="no-comics">
  No comics found.
</div>

<app-scanner (scanned)="list()"></app-scanner>
