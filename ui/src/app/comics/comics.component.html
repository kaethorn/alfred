<mat-card *ngIf="total">
  <mat-card-content>
    <mat-progress-bar mode="determinate" [value]="counter/total*100"></mat-progress-bar>
    Scanning file {{ counter }} of {{ total }} at {{ file }}
  </mat-card-content>
</mat-card>

<mat-accordion *ngIf="comics?.length > 0">
  <mat-expansion-panel *ngFor="let comic of comics">
    <mat-expansion-panel-header>
      <mat-panel-title>
        {{ comic.series }} #{{ comic.number }}
      </mat-panel-title>
      <mat-panel-description>
        {{ comic.title }}
      </mat-panel-description>
    </mat-expansion-panel-header>

    <mat-card>
      <mat-card-content>
        <img src="data:image/jpeg;base64,{{ comic.thumbnail }}">
      </mat-card-content>
      <mat-card-header>
        <mat-card-subtitle>Summary</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        {{ comic.summary }}
      </mat-card-content>
      <mat-card-actions>
        <button [routerLink]="['/read/', comic.id, '1']" color="primary" mat-button>Read</button>
      </mat-card-actions>
      <mat-list>
        <h4 mat-subheader>Details</h4>
        <mat-list-item>
          <h4 mat-line>Path</h4>
          <p mat-line>{{ comic.path }}</p>
        </mat-list-item>
        <mat-list-item>
          <h4 mat-line>Volume</h4>
          <p mat-line>{{ comic.volume }}</p>
        </mat-list-item>
        <mat-list-item>
          <h4 mat-line>Date</h4>
          <p mat-line>{{ comic.year }}/{{ comic.month }}</p>
        </mat-list-item>
        <mat-list-item>
          <h4 mat-line>Publisher</h4>
          <p mat-line>{{ comic.publisher }}</p>
        </mat-list-item>
      </mat-list>
    </mat-card>
  </mat-expansion-panel>
</mat-accordion>

<mat-toolbar>
  <button (click)="scan()" color="primary" mat-button>Scan</button>
</mat-toolbar>

<mat-list *ngIf="errors.length">
  <h3 mat-subheader>Scan errors</h3>
  <mat-list-item *ngFor="let error of errors">
    <h4 mat-line>{{ error.message }}</h4>
    <p mat-line>{{ error.date }}</p>
  </mat-list-item>
</mat-list>
