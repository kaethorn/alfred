<div class="pages-layer" #pagesLayer
  [ngStyle]="{ transform: 'translateX(-' + getSet() + '00vw)' }"
  (click)="onClick($event)"
  (swipeleft)="onSwipe(1)"
  (swiperight)="onSwipe(-1)">
  <div class="set" *ngFor="let imageSet of imageSets">
    <div *ngFor="let image of imageSet">
      <img *ngIf="image.src" [attr.src]="image.src | secure | async"
          [ngClass]="{ loaded: image.loaded }"
          (load)="imageLoaded(image)"
          alt="{{ comic.series }} #{{ comic.number }} page {{ image.page }}" />
    </div>
  </div>
</div>

<div class="control-layer" *ngIf="showControls" (click)="toggleControls()">
  <div class="top">
    <ion-button color="secondary" (click)="back()">
      <ion-icon name="close"></ion-icon>
    </ion-button>
  </div>
  <div class="center">
    <div class="volume">
      <ion-text color="primary">{{ comic.series }} Vol. {{ comic.volume }} #{{ comic.number }}</ion-text>
    </div>
    <div class="title">
      <ion-text color="primary">
        {{ comic.title }}
      </ion-text>
    </div>
  </div>
  <div class="bottom">
    <ion-button color="secondary" (click)="openPrevious()">
      <ion-icon name="skip-backward"></ion-icon>
    </ion-button>
    <ion-button color="secondary" (click)="go(-1)">
      <ion-icon name="arrow-round-back"></ion-icon>
    </ion-button>
    <ion-button color="secondary" (click)="go(+1)">
      <ion-icon name="arrow-round-forward"></ion-icon>
    </ion-button>
    <ion-button color="secondary" (click)="openNext()">
      <ion-icon name="skip-forward"></ion-icon>
    </ion-button>
  </div>
</div>
